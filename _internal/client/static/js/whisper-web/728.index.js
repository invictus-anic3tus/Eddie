(()=>{var t,e,n,s,a={354:(t,e,n)=>{"use strict";var s=n(174);s._K2.allowLocalModels=!1;class a{static task=null;static model=null;static quantized=null;static instance=null;constructor(t,e,n){this.tokenizer=t,this.model=e,this.quantized=n}static async getInstance(t=null){return null===this.instance&&(this.instance=(0,s.TkF)(this.task,this.model,{quantized:this.quantized,progress_callback:t,revision:this.model.includes("/whisper-medium")?"no_attentions":"main"})),this.instance}}self.addEventListener("message",(async t=>{const e=t.data;let n=await r(e.audio,e.model,e.multilingual,e.quantized,e.subtask,e.language);null!==n&&self.postMessage({status:"complete",task:"automatic-speech-recognition",data:n})}));class i extends a{static task="automatic-speech-recognition";static model=null;static quantized=null}const r=async(t,e,n,s,a,r)=>{const o=e.startsWith("distil-whisper/");let c=e;o||n||(c+=".en");const l=i;l.model===c&&l.quantized===s||(l.model=c,l.quantized=s,null!==l.instance&&((await l.getInstance()).dispose(),l.instance=null));let u=await l.getInstance((t=>{self.postMessage(t)}));const p=u.processor.feature_extractor.config.chunk_length/u.model.config.max_source_positions;let f=[{tokens:[],finalised:!1}];return await u(t,{top_k:0,do_sample:!1,chunk_length_s:o?20:30,stride_length_s:o?3:5,language:r,task:a,return_timestamps:!0,force_full_sequences:!1,callback_function:function(t){f[f.length-1].tokens=[...t[0].output_token_ids];let e=u.tokenizer._decode_asr(f,{time_precision:p,return_timestamps:!0,force_full_sequences:!1});self.postMessage({status:"update",task:"automatic-speech-recognition",data:e})},chunk_callback:function(t){let e=f[f.length-1];Object.assign(e,t),e.finalised=!0,t.is_last||f.push({tokens:[],finalised:!1})}}).catch((t=>(self.postMessage({status:"error",task:"automatic-speech-recognition",data:t}),null)))}},52:()=>{},143:()=>{},603:()=>{},806:()=>{},853:()=>{},9:()=>{},837:()=>{},499:()=>{}},i={};function r(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return a[t](n,n.exports,r),n.exports}r.m=a,r.x=()=>{var t=r.O(void 0,[174],(()=>r(354)));return r.O(t)},t=[],r.O=(e,n,s,a)=>{if(!n){var i=1/0;for(u=0;u<t.length;u++){for(var[n,s,a]=t[u],o=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((t=>r.O[t](n[c])))?n.splice(c--,1):(o=!1,a<i&&(i=a));if(o){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,s,a]},n=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(t,s){if(1&s&&(t=this(t)),8&s)return t;if("object"==typeof t&&t){if(4&s&&t.__esModule)return t;if(16&s&&"function"==typeof t.then)return t}var a=Object.create(null);r.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var o=2&s&&t;"object"==typeof o&&!~e.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>t[e]));return i.default=()=>t,r.d(a,i),a},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,n)=>(r.f[n](t,e),e)),[])),r.u=t=>t+".index.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=n[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={728:1};r.f.i=(e,n)=>{t[e]||importScripts(r.p+r.u(e))};var e=self.webpackChunk=self.webpackChunk||[],n=e.push.bind(e);e.push=e=>{var[s,a,i]=e;for(var o in a)r.o(a,o)&&(r.m[o]=a[o]);for(i&&i(r);s.length;)t[s.pop()]=1;n(e)}})(),s=r.x,r.x=()=>r.e(174).then(s),r.x()})();